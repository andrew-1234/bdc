
R version 4.2.1 (2022-06-23) -- "Funny-Looking Kid"
Copyright (C) 2022 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(bdc)
> 
> test_check("bdc")

bdc_basisOfRecords_notStandard:
Flagged 4 of the following specific nature:
 c("FOSSIL_SPECIMEN", NA, "Specimen", "PRESERVED_SPECIMEN") 
One column was added to the database.


bdc_basisOfRecords_notStandard:
Flagged 2 of the following specific nature:
 c("FOSSIL_SPECIMEN", "RON") 
One column was added to the database.

Loading required package: rnaturalearth
Support for Spatial objects (`sp`) will be deprecated in {rnaturalearth} and will be removed in a future release of the package. Please use `sf` objects with {rnaturalearth}. For example: `ne_download(returnclass = 'sf')`
Spherical geometry (s2) switched off
dist is assumed to be in decimal degrees (arc_degrees).
although coordinates are longitude/latitude, st_intersection assumes that they
are planar

bdc_coordinates_country_inconsistent:
Flagged 0 records.
One column was added to the database.

dist is assumed to be in decimal degrees (arc_degrees).
although coordinates are longitude/latitude, st_intersection assumes that they
are planar

bdc_coordinates_country_inconsistent:
Flagged 2 records.
One column was added to the database.

dist is assumed to be in decimal degrees (arc_degrees).
although coordinates are longitude/latitude, st_intersection assumes that they
are planar

bdc_coordinates_country_inconsistent:
Flagged 2 records.
One column was added to the database.

dist is assumed to be in decimal degrees (arc_degrees).
although coordinates are longitude/latitude, st_intersection assumes that they
are planar

bdc_coordinates_country_inconsistent:
Flagged 1 records.
One column was added to the database.


bdc_coordinates_empty:
Flagged 4 records.
One column was added to the database.


bdc_coordinates_empty:
Flagged 4 records.
One column was added to the database.


bdc_coordinates_empty:
Flagged 4 records.
One column was added to the database.


bdc_coordinates_from_locality 
Found 3 records missing or with invalid coordinates but with potentially useful information on locality.


bdc_coordinates_outOfRange:
Flagged 2 records.
One column was added to the database.

bdc_coordinates_precision:
Flagged 4 records
One column was added to the database.

bdc_coordinates_precision:
Flagged 0 records
One column was added to the database.

Loading required package: readr

Attaching package: 'readr'

The following objects are masked from 'package:testthat':

    edition_get, local_edition

Loading required package: rnaturalearthdata

Attaching package: 'rnaturalearthdata'

The following object is masked from 'package:rnaturalearth':

    countries110

Correcting latitude and longitude transposed

3 occurrences will be tested
Processing occurrences from: BO (1)
Processing occurrences from: BR (2)

bdc_coordinates_transposed:
Corrected 3 records.
One columns were added to the database.


bdc_scientificName_empty:
Flagged 5 records.
One column was added to the database.


bdc_coordinates_empty:
Flagged 44 records.
One column was added to the database.


bdc_coordinates_outOfRange:
Flagged 1 records.
One column was added to the database.


bdc_basisOfRecords_notStandard:
Flagged 0 of the following specific nature:
 character(0) 
One column was added to the database.


bdc_country_from_coordinates:
Country names were added to 27 records.

Loading auxiliary data: country names

Standardizing country names

country found: Bolivia
country found: Brazil

bdc_country_standardized:
The country names of 65 records were standardized.
Two columns ('country_suggested' and 'countryCode') were added to the database.

Correcting latitude and longitude transposed

15 occurrences will be tested
Processing occurrences from: BR (15)
No latitude and longitude were transposed

Loading auxiliary data: country names

Standardizing country names

country found: Bolivia
country found: Brazil

bdc_country_standardized:
The country names of 3 records were standardized.
Two columns ('country_suggested' and 'countryCode') were added to the database.

3 occurrences will be tested
Processing occurrences from: BO (1)
Processing occurrences from: BR (2)

bdc_country_from_coordinates:
Country names were added to 2 records.


bdc_country_from_coordinates:
Country names were added to 4 records.

Loading required package: cowplot
Loading required package: rworldmap
Loading required package: sp
### Welcome to rworldmap ###
For a short introduction type : 	 vignette('rworldmap')
Loading required package: ggplot2
Loading required package: hexbin
Loading required package: DT

bdc_eventDate_empty:
Flagged 3 records.
One column was added to the database.


bdc_fiter_out_flags:
The following columns were removed from the database:
.bdc_scientificName_empty, .bdc_coordinates_empty, .bdc_coordinates_outOfRange, .summary

bdc_fiter_out_flags:
The following columns were removed from the database:
.summary

bdc_coordinates_empty:
Flagged 0 records.
One column was added to the database.


bdc_scientificName_empty:
Flagged 2 records.
One column was added to the database.


bdc_scientificName_empty:
Flagged 2 records.
One column was added to the database.

country found: United States of America
country found: Vietnam
country found based on iso3: United States of America
Standardizing datafake1 file
Standardizing datafake2 file
Standardizing datafake3 file
Standardizing datafake1 file
Standardizing datafake2 file
Standardizing datafake3 file
[ERROR]: Column names defined in the metadata do not match column names in the datafake4 file
[INFO]: Column(s) `y` and `notes` defined in the metadata not present in the datafake4

bdc_summary_col:
Flagged 4 records.
One column was added to the database.


bdc_year_from_eventDate:
Four-digit year were extracted from 5 records.


bdc_year_outOfRange:
Flagged 1 records.
One column was added to the database.

[ FAIL 0 | WARN 2 | SKIP 5 | PASS 89 ]

══ Skipped tests ═══════════════════════════════════════════════════════════════
• On CRAN (5)

[ FAIL 0 | WARN 2 | SKIP 5 | PASS 89 ]
No deferred expressions to run
> 
> proc.time()
   user  system elapsed 
 27.666   0.339  29.917 
